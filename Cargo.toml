[package]
name = "opening-hours"
version = "0.7.0"
authors = ["Rémi Dupré <remi@dupre.io>"]
license = "MIT OR Apache-2.0"
readme = "README.md"
repository = "https://github.com/remi-dupre/opening-hours-rs"
documentation = "https://docs.rs/opening-hours"
homepage = "https://github.com/remi-dupre/opening-hours-rs"
description = "A parser and evaluation tool for the opening_hours fields in OpenStreetMap."
edition = "2021"
exclude = ["dist/"]  # generated by maturin

[workspace]
members = ["compact-calendar", "fuzz", "opening-hours-syntax", "python"]

[features]
default = ["localize", "tracing"]
localize = ["dep:chrono-tz", "dep:sunrise-next", "dep:tzf-rs"]
tracing = ["dep:tracing"]

[dependencies]
compact-calendar = { path = "compact-calendar" }
opening-hours-syntax = { path = "opening-hours-syntax" }
chrono = "0.4"
flate2 = "1.0"
once_cell = "1.8"
thiserror = "1.0"

# feature: tracing
tracing = { version = "0.1.37", optional = true, default-features = false }

# feature: localize
chrono-tz = { version = "0.8", optional = true }
sunrise-next = { version = "1.2", optional = true }
tzf-rs = { version = "0.4", optional = true, default-features = false }

[build-dependencies]
compact-calendar = { path = "compact-calendar" }
chrono = "0.4"
flate2 = "1.0"

[dev-dependencies]
criterion = "0.5"

[[bench]]
name = "benchmarks"
harness = false

[profile.bench]
codegen-units = 1
lto = "fat"
